<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GST Lookup Web App</title>
    <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
    <h1>GST Lookup Web App</h1>

    <form method="post">
        <input type="text" name="gstin" placeholder="Enter GSTIN" required />
        <button type="submit">Search</button>
    </form>

    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}

    {% if data %}
        <h2>Return Filing Summary for {{ data.gstin }} ({{ data.financialYear }})</h2>
        <table border="1" cellpadding="8">
            <thead>
                <tr>
                    <th>Return Type</th>
                    <th>Period</th>
                    <th>Status</th>
                    <th>Filed Date</th>
                </tr>
            </thead>
            <tbody>
                {% for r in data.returns %}
                <tr>
                    <td>{{ r.returnType }}</td>
                    <td>{{ r.filingPeriod }}</td>
                    <td>{{ r.filingStatus }}</td>
                    <td>{{ r.lastFiledDate }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <form method="get" action="/rate">
            <input type="hidden" name="gstin" value="{{ data.gstin }}">
            <button type="submit">Rate Company</button>
        </form>
    {% endif %}
</body>
</html>
